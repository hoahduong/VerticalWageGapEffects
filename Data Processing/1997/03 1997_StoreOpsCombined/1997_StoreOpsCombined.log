------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/macbook/Desktop/18-19 Thesis/Data Processing/1997/03 1997_StoreOpsComb
> ined/1997_StoreOpsCombined.log
  log type:  text
 opened on:   8 Apr 2019, 08:57:04

. 
. version 15

. 
. local csvPath "/Users/macbook/Desktop/18-19 Thesis/Data Processing/1997/03 1997_StoreOps
> Combined/csvFiles/"

. local dataPath "/Users/macbook/Desktop/18-19 Thesis/Data Processing/1997/02 RealConversi
> on/convertedData/"

.         
. drop _all

. 
. // 43 has repeated code (BRI)
. use "`dataPath'43A Assistant Store Manager.dta", clear

. collapse total, by (code)

. save "`dataPath'43A Assistant Store Manager_collapse.dta", replace
file /Users/macbook/Desktop/18-19 Thesis/Data Processing/1997/02 RealConversion/convertedD
> ata/43A Assistant Store Manager_collapse.dta saved

. 
. local fileList "42A Store Manager.dta" ///
>         "41 Area Manager.dta" ///
>         "40A District Manager.dta" ///
>         "39 Regional Manager.dta" ///
>         "38 Zone Manager.dta" ///
>         "37 Top Store Operations.dta"

. 
. 
. // create the big data file
. use "/Users/macbook/Desktop/18-19 Thesis/fromBefore/theData/1997/001 Company ID.dta", cl
> ear

. keep code stores volume employees

. save StoreOpsCombined.dta, replace emptyok
file StoreOpsCombined.dta saved

. use StoreOpsCombined.dta, clear

. 
. // 43 Assistant Store Manager.dta
. merge m:1 code using "`dataPath'43A Assistant Store Manager_collapse.dta", keepusing(tot
> al)

    Result                           # of obs.
    -----------------------------------------
    not matched                             4
        from master                         4  (_merge==1)
        from using                          0  (_merge==2)

    matched                                55  (_merge==3)
    -----------------------------------------

. rename total total43

. drop _merge

. 
. local i 43

.         
. // for each data file, merge by code
. foreach fileName in "`fileList'" {
  2. local i = `i' - 1
  3. merge m:1 code using "`dataPath'`fileName'",  keepusing(total)
  4. rename total total`i'
  5. drop _merge
  6. }

    Result                           # of obs.
    -----------------------------------------
    not matched                             4
        from master                         4  (_merge==1)
        from using                          0  (_merge==2)

    matched                                55  (_merge==3)
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                            40
        from master                        40  (_merge==1)
        from using                          0  (_merge==2)

    matched                                19  (_merge==3)
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                             6
        from master                         6  (_merge==1)
        from using                          0  (_merge==2)

    matched                                53  (_merge==3)
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                            12
        from master                        12  (_merge==1)
        from using                          0  (_merge==2)

    matched                                47  (_merge==3)
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                            49
        from master                        49  (_merge==1)
        from using                          0  (_merge==2)

    matched                                10  (_merge==3)
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                            16
        from master                        16  (_merge==1)
        from using                          0  (_merge==2)

    matched                                43  (_merge==3)
    -----------------------------------------

. 
. save StoreOpsCombined.dta, replace 
file StoreOpsCombined.dta saved

. 
. use StoreOpsCombined.dta

. //describe
. 
. // rename
. rename total37 TopStoreOps

. rename total38 ZoneMgr

. rename total39 RegionalMgr

. rename total40 DistrictMgr

. rename total41 AreaMgr

. rename total42 StoreMgr

. rename total43 AsstStoreMgr

. 
. save StoreOpsCombined.dta, replace
file StoreOpsCombined.dta saved

. 
end of do-file

. do "/Users/macbook/Desktop/18-19 Thesis/Data Processing/1998/03 1998_StoreOpsCombined/19
> 98_StoreOpsCombined.do"

. cd "/Users/macbook/Desktop/18-19 Thesis/Data Processing/1998/03 1998_StoreOpsCombined"
/Users/macbook/Desktop/18-19 Thesis/Data Processing/1998/03 1998_StoreOpsCombined

. 
. capture log close
